# Build configuration for gym (building iOS app)

# Scheme name
scheme("Fueki")

# Workspace path
workspace("./ios/Fueki.xcworkspace")

# Configuration
configuration("Release")

# Export method
# Valid values: app-store, ad-hoc, package, enterprise, development, developer-id
export_method("app-store")

# Output directory
output_directory("./fastlane/build_output")

# Output name
output_name("Fueki.ipa")

# Clean build
clean(true)

# Include bitcode
include_bitcode(true)

# Include symbols
include_symbols(true)

# Export options
export_options({
  compileBitcode: true,
  uploadBitcode: true,
  uploadSymbols: true,
  iCloudContainerEnvironment: "Production",
  provisioningProfiles: {
    "com.fueki.wallet" => "match AppStore com.fueki.wallet"
  }
})

# Disable automatic code signing
disable_automatic_code_signing(false)

# Build path
build_path("./build")

# Derived data path
derived_data_path("./DerivedData")

# Archive path
archive_path("./build/Fueki.xcarchive")

# For more information about gym, see:
# https://docs.fastlane.tools/actions/gym/
