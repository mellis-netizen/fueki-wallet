# Test configuration for scan (running tests)

# Workspace and scheme
workspace("./ios/Fueki.xcworkspace")
scheme("Fueki")

# Devices to test on
devices([
  "iPhone 15 Pro Max",
  "iPhone 15 Pro",
  "iPhone SE (3rd generation)"
])

# Clean before testing
clean(true)

# Code coverage
code_coverage(true)

# Output configuration
output_directory("./fastlane/test_output")
output_types("html,junit")
output_files("report.html,report.junit")

# Result bundle
result_bundle(true)

# Build log path
buildlog_path("./fastlane/logs")

# Derived data path
derived_data_path("./DerivedData")

# Fail build on test failure
fail_build(true)

# Skip build (useful when build is already done)
skip_build(false)

# Disable slide to type feature
disable_slide_to_type(true)

# Reset simulator
reset_simulator(true)

# Reinstall app
reinstall_app(true)

# Parallel testing
parallel_testing(true)
concurrent_workers(4)

# Test timeouts
test_without_building(false)
max_concurrent_simulators(4)

# For more information about scan, see:
# https://docs.fastlane.tools/actions/scan/
